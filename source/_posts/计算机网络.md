---
title: 计算机网络
date: 2024-05-18 20:15:20
tags: [计算机网络]
categories: 计算机网络
---

## 说说 OSI 七层模型？
应用，表示，会话，传输，网络，数据链路，物理层（应表会传网数物）

应用层：http，ftp

传输层：tcp，udp

网络层：ip



## 说说五层体系结构
应用，传输，网络，数据链路，物理层（应传网数物）



## TCP三次握手四次挥手工作在哪一层？
三次握手和四次挥手都是工作在传输层。传输层（Transport Layer）是 OSI 模型的第四层，负责提供端到端的通信服务，包括数据传输的建立、维护和终止。

TCP 作为一种面向连接的协议，通过三次握手建立连接，通过四次挥手终止连接，确保数据传输的可靠性和完整性。



## 从浏览器地址栏输入 url 到显示网页的过程了解吗
从浏览器地址栏输入 URL 到显示网页的过程包括多个步骤，涵盖了 DNS 解析、TCP 连接、发送 HTTP 请求、服务器处理请求并返回 HTTP 响应、浏览器处理响应并渲染页面等多个环节。

1. **DNS 解析**：浏览器发起一个 DNS 请求到 DNS 服务器，将域名解析为服务器的 IP 地址。
2. **TCP 连接**：浏览器通过解析得到的 IP 地址与服务器建立 TCP 连接（通常是通过 443 端口进行 SSL 加密的 HTTPS 连接）。这一步涉及到 TCP 的三次握手过程，确保双方都准备好进行数据传输。
3. **发送 HTTP 请求**：浏览器构建 HTTP 请求消息，包括请求行、请求头和请求体（如果有）；然后将请求发送到服务器。
4. **服务器处理请求**：服务器接收到 HTTP 请求后，根据请求的资源路径，经过后端处理（可能包括数据库查询等），生成 HTTP 响应消息；响应消息包括状态行、响应头和响应体（请求的资源内容）。
5. **浏览器接收 HTTP 响应**：浏览器接收到服务器返回的 HTTP 响应数据后，开始解析响应体中的 HTML 内容；然后构建 DOM 树、解析 CSS 和 JavaScript 文件等，最终渲染页面。
6. **断开连接**：TCP 四次挥手，连接结束。



## 说说 DNS 的解析过程
检查本地 DNS 缓存是否有该域名的记录。如果没有，向**根域名服务器**发送请求，根域名服务器将请求指向更具体的服务，如 `com` 顶级域名服务器。

顶级域名服务器再将请求指向权限域名服务器，通常由域名注册机构直接管理，`paicoding.com`是在阿里云上注册的，所以阿里云会提供对应的 DNS 解析服务，将域名和阿里云服务器绑定起来。

最终，浏览器使用获得的 IP 地址发起一个 HTTP 请求到目标服务器，然后该服务器返回所请求的网页内容。



## 什么是幂等？幂等方法了解哪些
幂等（Idempotence）是一个数学概念，用于描述某些操作的特性，即无论操作执行多少次，结果都是相同的。换句话说，幂等操作可以重复执行而不会改变系统状态。

如果一个操作是幂等的，那么对同一资源执行该操作一次和执行多次的效果相同。

在正确实现的条件下，GET、HEAD、PUT 和 DELETE 等方法都是幂等的，而 POST 方法不是。



## 说一下 HTTP 的报文结构
### HTTP 请求报文结构
请求行（GET、POST），请求头部，空行，消息正文

#### HTTP 响应报文结构
状态行（200，404），响应头部，空行，消息正文



## HTTP1.0，1.1，2.0 的区别
**HTTP1.0** 默认短连接，HTTP 1.1 默认长连接，HTTP 2.0 采用**多路复用**

+ **多路复用**：一个 TCP 连接上可以同时进行多个 HTTP 请求/响应，解决了 HTTP 1.x 的队头阻塞问题。



## HTTP/3 了解吗
HTTP/2.0 基于 TCP 协议，而 HTTP/3.0 则基于 QUIC 协议，Quick UDP Connections，直译为快速 UDP 网络连接。

基于 TCP 的 HTTP/2.0，尽管从逻辑上来说，不同的流之间相互独立，不会相互影响，但在实际传输的过程中，数据还是要一帧一帧的发送和接收，一旦某一个流的数据有丢包，仍然会阻塞在它之后传输的流数据。

而基于 UDP 的 QUIC 协议可以更彻底地解决这样的问题，让不同的流之间真正的实现相互独立传输，互不干扰。



## 说说 HTTP 与 HTTPS 有哪些区别
1. HTTPS 是 HTTP 的增强版，在 HTTP 的基础上加入了 SSL/TLS 协议，确保数据在传输过程中是加密的。SSL/TLS 需要向 CA（证书权威机构）申请数字证书，用于验证服务器的身份。
2. HTTP 的默认端⼝号是 80，URL 以`http://`开头；HTTPS 的默认端⼝号是 443，URL 以`https://`开头。

使用 HTTPS 主要是为了解决 HTTP 传输过程中的一些安全问题，因为 HTTP 是明文传输，所以 HTTPS 在 HTTP 的基础上加入了 SSL/TLS 协议。



## https的加密技术
SSL（安全套接字）/TLS（传输层安全）协议可以用来加密通信内容，保证通信过程中的数据不被窃取和篡改。整个加密过程主要涉及两种类型的加密方法：

+ 非对称加密：服务器向客户端发送公钥，然后客户端用公钥加密自己的随机密钥，也就是会话密钥，发送给服务器，服务器用私钥解密，得到会话密钥。
+ 然后双方用会话密钥加密通信内容。

客户端会通过数字证书来验证服务器的身份，数字证书由 CA（证书权威机构）签发，包含了服务器的公钥、证书的颁发机构、证书的有效期等信息。



## 详细说一下 TCP 的三次握手机制
第一次握手：

客户端发送一个 TCP 报文段到服务器

syn置1，seq x

**目的**：客户端通知服务器它希望建立连接，并告知服务器自己的初始序列号。



第二次握手：

服务端发送应答 TCP 报文段给客户端

SYN 位和 ACK 位都被设置为 1。

seq y，ack = x+1

**目的**：服务器告诉客户端，它的连接请求被接受了，并通知客户端自己的初始序列号。



第三次握手：

客户端收到服务器的应答后，还需要向服务器发送一个确认。

ACK 位被设置为 1，ack y+1，seq x+1。

**目的**：客户端确认收到了服务器的同步应答，完成三次握手，建立连接。



白话文：

+ 老王：老张唉！我是老王，你能听得到吗？
+ 老张一听，是老王的声音：老王老王，我是老张，我能听得到，你能听得到吗？
+ 老王一听，嗯，没错，是老张：老张，我听到了，我有事要跟你说。



## TCP 握手为什么是三次，为什么不能是两次？不能是四次
使用三次握手可以建立一个可靠的连接。这一过程的目的是确保双方都知道对方已准备好进行通信，并同步双方的序列号，从而保持数据包的顺序和完整性。



## 说说 TCP 四次挥手的过程
第一次挥手（FIN）：客户端向服务器发送一个 FIN（结束）报文，表示客户端没有数据要发送了，但仍然可以接收数据。客户端进入 FIN-WAIT-1 状态。

第二次挥手（ACK）：服务器接收到 FIN 报文后，向客户端发送一个 ACK 报文，确认已接收到客户端的 FIN 请求。服务器进入 CLOSE-WAIT 状态，客户端进入 FIN-WAIT-2 状态。

第三次挥手（FIN）：服务器向客户端发送一个 FIN 报文，表示服务器也没有数据要发送了。服务器进入 LAST-ACK 状态。  
第四次挥手（ACK）：客户端接收到 FIN 报文后，向服务器发送一个 ACK 报文，确认已接收到服务器的 FIN 请求。客户端进入 TIME-WAIT 状态，等待一段时间以确保服务器接收到 ACK 报文。服务器接收到 ACK 报文后进入 CLOSED 状态。客户端在等待一段时间后也进入 CLOSED 状态。



## TCP 挥手为什么需要四次呢
再来回顾下四次挥手双方发 `FIN` 包的过程，就能理解为什么需要四次了。

+ 关闭连接时，客户端向服务端发送 `FIN` 时，仅仅表示客户端不再发送数据了但是还能接收数据。
+ 服务端收到客户端的 `FIN` 报文时，先回一个 `ACK` 应答报文，而服务端可能还有数据需要处理和发送，等服务端不再发送数据时，才发送 `FIN` 报文给客户端来表示同意现在关闭连接。

从上面过程可知，服务端通常需要等待完成数据的发送和处理，所以服务端的 `ACK` 和 `FIN` 一般都会分开发送，从而比三次握手导致多了一次。  




